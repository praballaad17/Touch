{"version":3,"sources":["components/loader.js","../node_modules/react-loading-skeleton/dist/index.mjs","components/post/postModal.js","components/post/header.js","components/post/image.js","components/post/index.js","components/profile/pimodal.js","components/profile/followerModal.js","components/profile/header.js","components/profile/index.js","pages/profile.js"],"names":["ReactLoader","type","color","height","width","className","SkeletonThemeContext","React","createContext","Skeleton","_a","_b","count","Wrapper","wrapper","customClassName","containerClassName","containerTestId","circle","styleProp","style","propsStyleOptions","contextStyleOptions","useContext","styleOptions","baseColor","highlightColor","borderRadius","direction","duration","enableAnimation","styleOptionsToCssProperties","inline","elements","i","skeletonSpan","createElement","key","push","Fragment","map","el","PostModal","open","content","onClose","loggedInUser","useUser","user","usePost","timeline","setTimeline","pathname","useLocation","deletePost","a","fileNumber","deleteImgInStorage","author","_id","fileNames","deletePostById","filter","item","alert","console","log","prevPost","ReactDom","createPortal","onClick","target","to","username","localStorage","setItem","JSON","stringify","postId","document","getElementById","Header","setProfile","photosCollection","useState","isModal","setModal","fullName","icon","faEllipsisV","Image","caption","files","index","src","alt","Post","postref","useRef","profileImg","setProfileImg","setuser","getProfileImg","getUser","useEffect","ruser","effectgetUser","result","displayImg","getimg","ref","PIModal","displayImgs","setActiveUser","removeImage","length","removeProfileImg","handleSubmit","e","file","size","imageResize","resizeImage","URL","createObjectURL","uploadFileToStorage","imageUrl","updateProfileImg","opacity","position","left","onChange","FollowerModal","followers","follower","photosCount","followerCount","setfollowerCount","toggleFollow","isFollowingProfile","setIsFollowingProfile","ispiModal","setIspiModal","isfollowerModal","setIsfollowerModal","setIsfollowingModal","profileUserId","following","profileUsername","activeBtnFollow","handleToggleFollow","isFollowing","isLoggedInUserFollowingProfile","DEFAULT_IMAGE_PATH","onKeyDown","event","Profile","useUserPost","profilePost","loading","setPageNumber","hasMore","observer","lastPostRef","useCallback","node","current","disconnect","IntersectionObserver","entries","isIntersecting","prePage","observe","userProfileImg","href","NEWPOST","useParams","setUser","title","getProfilePost","profLoad","pageNumber","getuser"],"mappings":"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","file":"static/js/8.183c2450.chunk.js","sourcesContent":["import Loader from 'react-loader-spinner';\n\nexport default function ReactLoader() {\n  return (\n\n    <Loader\n      type=\"TailSpin\"\n      color=\"#00000059\"\n      height={70}\n      width={70}\n      className=\"flex justify-center mt-12\"\n    />\n  );\n}\n","import React from 'react';\n\n/**\n * @internal\n */\nconst SkeletonThemeContext = React.createContext({});\n\nfunction SkeletonTheme({ children, ...styleOptions }) {\n    return (React.createElement(SkeletonThemeContext.Provider, { value: styleOptions }, children));\n}\n\n/* eslint-disable react/no-array-index-key */\nconst defaultEnableAnimation = true;\n// For performance & cleanliness, don't add any inline styles unless we have to\nfunction styleOptionsToCssProperties({ baseColor, highlightColor, width, height, borderRadius, circle, direction, duration, enableAnimation = defaultEnableAnimation, }) {\n    const style = {};\n    if (direction === 'rtl')\n        style['--animation-direction'] = 'reverse';\n    if (typeof duration === 'number')\n        style['--animation-duration'] = `${duration}s`;\n    if (!enableAnimation)\n        style['--pseudo-element-display'] = 'none';\n    if (typeof width === 'string' || typeof width === 'number')\n        style.width = width;\n    if (typeof height === 'string' || typeof height === 'number')\n        style.height = height;\n    if (typeof borderRadius === 'string' || typeof borderRadius === 'number')\n        style.borderRadius = borderRadius;\n    if (circle)\n        style.borderRadius = '50%';\n    if (typeof baseColor !== 'undefined')\n        style['--base-color'] = baseColor;\n    if (typeof highlightColor !== 'undefined')\n        style['--highlight-color'] = highlightColor;\n    return style;\n}\nfunction Skeleton({ count = 1, wrapper: Wrapper, className: customClassName, containerClassName, containerTestId, circle = false, style: styleProp, ...propsStyleOptions }) {\n    var _a, _b;\n    const contextStyleOptions = React.useContext(SkeletonThemeContext);\n    // Props take priority over context\n    const styleOptions = {\n        ...contextStyleOptions,\n        ...propsStyleOptions,\n        circle,\n    };\n    // `styleProp` has the least priority out of everything\n    const style = {\n        ...styleProp,\n        ...styleOptionsToCssProperties(styleOptions),\n    };\n    let className = 'react-loading-skeleton';\n    if (customClassName)\n        className += ` ${customClassName}`;\n    const inline = (_a = styleOptions.inline) !== null && _a !== void 0 ? _a : false;\n    const elements = [];\n    // Without the <br />, the skeleton lines will all run together if\n    // `width` is specified\n    for (let i = 0; i < count; i++) {\n        const skeletonSpan = (React.createElement(\"span\", { className: className, style: style, key: i }, \"\\u200C\"));\n        if (inline) {\n            elements.push(skeletonSpan);\n        }\n        else {\n            elements.push(React.createElement(React.Fragment, { key: i },\n                skeletonSpan,\n                React.createElement(\"br\", null)));\n        }\n    }\n    return (React.createElement(\"span\", { className: containerClassName, \"data-testid\": containerTestId, \"aria-live\": \"polite\", \"aria-busy\": (_b = styleOptions.enableAnimation) !== null && _b !== void 0 ? _b : defaultEnableAnimation }, Wrapper\n        ? elements.map((el, i) => React.createElement(Wrapper, { key: i }, el))\n        : elements));\n}\n\nexport { SkeletonTheme, Skeleton as default };\n","import React from 'react'\r\nimport ReactDom from 'react-dom'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport { deletePostById } from '../../services/postServices'\r\nimport { deleteImgInStorage } from '../../services/resizeService'\r\nimport { usePost } from '../../context/postProvider'\r\nimport { useUser } from '../../context/userProvider'\r\n\r\nexport default function PostModal({ open, content, onClose }) {\r\n    const { user: loggedInUser } = useUser()\r\n    // const { posts, setPosts, userPost, setuserPost } = useContext(TimeLineContext)\r\n    const { timeline, setTimeline } = usePost()\r\n    const { pathname } = useLocation()\r\n    if (!open) return null\r\n\r\n    const unfollow = async () => {\r\n        // try {\r\n        //     await toggleFollow(true, content.author, user._id)\r\n        //     window.location = `/user/${user.username}`\r\n        // } catch (error) {\r\n        //     console.log(error);\r\n        // }\r\n    }\r\n\r\n    const notLikedPost = () => {\r\n        localStorage.setItem(\"dontLikePost\", JSON.stringify({ postId: content._id, author: content.author }))\r\n        // setPosts(posts.filter(item => item._id != content._id))\r\n        onClose()\r\n    }\r\n    const deletePost = async () => {\r\n\r\n        try {\r\n            for (let i = 0; i < content.fileNumber; i++) {\r\n                deleteImgInStorage(`/file/${content?.author}/${content._id}/${content?.fileNames[i]}`)\r\n            }\r\n            await deletePostById(content._id)\r\n\r\n            if (pathname == \"/home\") {\r\n                setTimeline(timeline.filter(item => item._id != content._id))\r\n                onClose()\r\n            }\r\n            else {\r\n                // setuserPost(userPost.filter(item => item._id != content._id))\r\n            }\r\n        }\r\n        catch (e) {\r\n            alert(\"Error while deleting the Post, generally check your internet\");\r\n            console.log(e, content);\r\n            if (pathname == \"/\") {\r\n                setTimeline(prevPost => [...prevPost, content])\r\n                // window.location = pathname\r\n            }\r\n            else {\r\n                // setuserPost(prevPost => [...prevPost, content])\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    return ReactDom.createPortal(\r\n        <>\r\n            <div className=\"modal-layout\" onClick={onClose}></div>\r\n            <div className=\"modal-box\">\r\n                <ul className=\"modal-box__list\">\r\n                    <li className=\"modal-box__item\"><Link className=\"u-text-decor-none\" target=\"_blanck\" to={`/user/${content?.author}`} >Share</Link></li>\r\n                    {/* {content.author != user.username && <li className=\"modal-box__item u-text-red-bold\" onClick={unfollow} >Unfollow</li>} */}\r\n                    {content.author == loggedInUser.username && < li className=\"modal-box__item u-text-red-bold\" onClick={deletePost} >Delete Post</li>}\r\n                    {content.author != loggedInUser.username && <li className=\"modal-box__item u-text-red-bold\" onClick={notLikedPost} >I don't link this Post</li>}\r\n                    <li className=\"modal-box__item\" onClick={onClose}>Cancel</li>\r\n                </ul>\r\n            </div>\r\n        </>,\r\n        document.getElementById(\"modal\")\r\n    )\r\n}\r\n","/* eslint-disable jsx-a11y/img-redundant-alt */\nimport { faEllipsisV } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\n// import { deletePostById } from '../../services/postServices';\nimport PostModal from './postModal';\n\nexport default function Header({ user, content, setProfile, photosCollection }) {\n  const [isModal, setModal] = useState(false)\n  return (\n    <div className=\"post__header\">\n\n      <Link to={`/user/${user?.username}`} className=\"post__header-info\">\n        <div className=\"u-bold post__header-name\">{user?.fullName}</div>\n        <p className=\"post__header-username\">@{user?.username}</p>\n      </Link>\n      <div className=\"u-icon\" onClick={() => setModal(true)}><FontAwesomeIcon icon={faEllipsisV} /></div>\n      {isModal && <PostModal content={content} open={isModal} onClose={() => setModal(false)} />}\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { faArrowLeft, faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport BlankPost from './blankPost';\n\nexport default function Image({ fileNumber, caption, postId, files, author }) {\n  const [counter, setCounter] = useState(0)\n  const [loading, setLoading] = useState(false)\n\n  const increase = () => {\n    if (counter === fileNumber - 1) return null\n    setCounter(counter + 1)\n  }\n  const decrease = () => {\n    if (counter === 0) return null\n    setCounter(counter - 1)\n  }\n  return (\n    <div className=\"image-slider\">\n      <div className=\"image-slider__box\">\n        <div className={`${fileNumber == 2 || fileNumber == 3 || fileNumber == 4 ? `image-slider__box-left-${fileNumber}` : \"image-slider__box-left\"}`}>\n          {files.map((item, index) => (<>\n            {index < 2 ? <Link to={`/${author}/${postId}/${index + 1}`} className={`${fileNumber == 2 || fileNumber == 4 || fileNumber == 3 ? `image-slider__box-img-${fileNumber}` : \"image-slider__box-img\"}`}>\n              <img\n                // className={`${fileNumber == 2 || fileNumber == 4 || fileNumber == 3 ? `image-slider__box-img-${fileNumber}` : \"image-slider__box-img\"}`} \n                className=\"image-slider__box-img-nor\"\n                src={item} alt=\"files\" />\n            </Link> : <></>}\n          </>)\n          )}\n        </div>\n\n        {fileNumber > 2 ? <div className={`${fileNumber == 4 ? \"image-slider__box-right-2\" : \"image-slider__box-right-3\"}`}>\n          {files.map((item, index) => (<>\n            {index > 1 ? <Link to={`/${author}/${postId}/${index + 1}`}><img className={`${fileNumber == 4 ? `image-slider__box-img-${fileNumber}` : \"image-slider__box-img-r3\"}`} src={item} alt=\"files\" /></Link> : <></>}\n\n          </>)\n          )}\n        </div> : <></>}\n        {/* {files.length ? <Link to={`/${author}/${postId}/${counter + 1}`}><img className=\"image-slider__box-img\" src={files[counter]} alt={caption} /></Link> : <></>}\n        {loading && <BlankPost width=\"100%\" height=\"95%\" counter={counter} />}\n        <>\n          {counter < (fileNumber - 1) &&\n            (\n              <button className=\"image-slider__btn image-slider__btn-inc\" onClick={increase}>\n                <FontAwesomeIcon icon={faArrowRight} />\n              </button>\n            )\n          }</>\n        {counter !== 0 && <button className=\"image-slider__btn image-slider__btn-dec\" onClick={decrease}>\n          <FontAwesomeIcon icon={faArrowLeft} />\n        </button>} */}\n      </div>\n\n    </div>\n  );\n}\n\n","import { useEffect, useRef, useState } from 'react';\nimport Header from './header';\nimport Image from './image';\nimport { Link } from 'react-router-dom';\nimport Footer from './footer';\nimport { useUser } from '../../context/userProvider';\n\n\nexport default function Post({ content, postref, setProfile, photosCollection }) {\n  const commentInput = useRef(null);\n  const [profileImg, setProfileImg] = useState()\n  const [user, setuser] = useState()\n  const { getProfileImg, getUser } = useUser()\n  const { caption, author, fileNumber, _id, files } = content\n\n  useEffect(() => {\n    async function effectgetUser() {\n      const ruser = await getUser(author)\n      setuser(ruser)\n    }\n    effectgetUser()\n  }, [author])\n\n  useEffect(() => {\n    async function getimg() {\n      const result = await getProfileImg(author)\n      setProfileImg(result?.displayImg.profileImg)\n    }\n    getimg()\n\n  }, [content])\n\n  // const handlePay = () => {\n  //   setPayModel(true)\n  // }\n\n  // const result = caption.charCodeAt(0)\n  // console.log(caption, result);\n  // components\n  // -> header, image, actions (like & comment icons), footer, \n  return (\n    <div ref={postref} className=\"post\">\n      <Link to={`/user/${user?.username}`} className=\"post__side\" >\n        <img className=\"post__pimg\" src={profileImg} alt=\"profile\" />\n      </Link>\n      <div className=\"post__main\">\n        <Header content={content} user={user} setProfile={setProfile} photosCollection={photosCollection} />\n        <div className=\"post__text\">\n          {caption}\n        </div>\n        <Image files={files} author={author} fileNumber={fileNumber} postId={_id} />\n      </div>\n    </div>\n  );\n}\n\n","import React from 'react'\r\nimport ReactDom from 'react-dom'\r\nimport { useUser } from '../../context/userProvider'\r\nimport { deleteImgInStorage, imageResize, uploadFileToStorage } from '../../services/resizeService'\r\nimport { updateProfileImg, removeProfileImg } from '../../services/userServices'\r\n\r\nexport default function PIModal({ open, onClose, displayImgs }) {\r\n    const { user: loggedInUser, setActiveUser } = useUser()\r\n    if (!open) return null\r\n\r\n\r\n    const removeImage = async () => {\r\n        if (!displayImgs?.profileImg.length) return\r\n        try {\r\n            setActiveUser({ ...loggedInUser, displayImg: { profileImg: \"\" } })\r\n            // setUser({ ...user, displayImg: { profileImg: \"\" } })\r\n            onClose()\r\n            deleteImgInStorage(`/file/${loggedInUser?.username}/displayImg/profileImg`)\r\n            await removeProfileImg(loggedInUser.username)\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        if (!e.target.files.length) return;\r\n        const file = e.target.files[0]\r\n        console.log(file.size / 1024);\r\n\r\n        if ((file.size / 1024) > 800) {\r\n            console.log(\"more\");\r\n            const resizeImage = await imageResize(file)\r\n            setActiveUser({ ...loggedInUser, displayImg: { profileImg: URL.createObjectURL(resizeImage) } })\r\n            // setUser({ ...user, displayImg: { profileImg: URL.createObjectURL(resizeImage) } })\r\n            onClose()\r\n            const imageUrl = await uploadFileToStorage(resizeImage, `/file/${loggedInUser?.username}/displayImg/profileImg`)\r\n            console.log(imageUrl);\r\n            try {\r\n                const result = await updateProfileImg(loggedInUser.username, imageUrl)\r\n                console.log(result);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        else {\r\n            console.log(file.size / 1024);\r\n            setActiveUser({ ...loggedInUser, displayImg: { profileImg: URL.createObjectURL(file) } })\r\n            // setUser({ ...user, displayImg: { profileImg: URL.createObjectURL(file) } })\r\n            onClose()\r\n            const imageUrl = await uploadFileToStorage(file, `/file/${loggedInUser?.username}/displayImg/profileImg`)\r\n            console.log(imageUrl);\r\n            try {\r\n                const result = await updateProfileImg(loggedInUser.username, imageUrl)\r\n                console.log(result);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return ReactDom.createPortal(\r\n        <>\r\n            <div className=\"modal-layout\" onClick={onClose}></div>\r\n            <div className=\"modal-box\">\r\n                <div className=\"modal-box__heading heading-black\">Change Profile Photo</div>\r\n                <ul className=\"modal-box__list\">\r\n                    <label className=\"newpost__media\">\r\n                        <li className=\"modal-box__item\">\r\n                            Upload Image\r\n                            <input type=\"file\" style={{ opacity: 0, position: \"absolute\", left: \"-99999px\" }} onChange={handleSubmit} />\r\n                        </li>\r\n                    </label>\r\n                    <li className=\"modal-box__item u-text-red-bold\" onClick={removeImage} >Remove Image</li>\r\n                    <li className=\"modal-box__item\" onClick={onClose}>Cancel</li>\r\n                </ul>\r\n            </div>\r\n        </>,\r\n        document.getElementById(\"modal\")\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useState } from 'react'\r\nimport ReactDom from 'react-dom'\r\nimport { updateProfileImg, removeProfileImg } from '../../services/userServices'\r\n\r\nexport default function FollowerModal({ open, user, onClose }) {\r\n    const [profileImg, setProfileImg] = useState()\r\n\r\n    if (!open) return null\r\n\r\n    console.log(user);\r\n    const removeImage = async () => {\r\n        try {\r\n            await removeProfileImg(user.username)\r\n            window.location = `/user/${user.username}`\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        if (!e.target.files.length) return;\r\n\r\n        let reader = new FileReader();\r\n        // Convert the file to base64 text\r\n        reader.readAsDataURL(e.target.files[0]);\r\n        console.log(e.target.files[0]);\r\n        // on reader load somthing...\r\n        reader.onload = async () => {\r\n            // Make a fileInfo Object\r\n            const baseURL = reader.result;\r\n            try {\r\n                const updatedImg = await updateProfileImg(user.username, baseURL)\r\n                console.log(updatedImg);\r\n                window.location = `/user/${user.username}`\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    return ReactDom.createPortal(\r\n        <>\r\n            <div className=\"modal-layout\" onClick={onClose}></div>\r\n            <div className=\"modal-box\">\r\n                <div className=\"modal-box__heading heading-black\">Followers</div>\r\n                <ul className=\"modal-box__list\">\r\n                    {user.followers.map((follower) => {\r\n                        <label className=\"newpost__media\">\r\n                            <li className=\"modal-box__item\">\r\n                                {follower}\r\n                                <input type=\"file\" style={{ opacity: 0, position: \"absolute\", left: \"-99999px\" }} onChange={handleSubmit} />\r\n                            </li>\r\n                        </label>\r\n                    })}\r\n\r\n                    <li className=\"modal-box__item\" onClick={onClose}>Cencel</li>\r\n                </ul>\r\n            </div>\r\n        </>,\r\n        document.getElementById(\"modal\")\r\n    )\r\n}\r\n","/* eslint-disable jsx-a11y/img-redundant-alt */\nimport { useState, useEffect, useContext } from 'react';\nimport Skeleton from 'react-loading-skeleton';\nimport { DEFAULT_IMAGE_PATH } from '../../constants/paths';\nimport PIModal from './pimodal'\nimport FollowerModal from './followerModal';\nimport { useUser } from '../../context/userProvider';\n\nexport default function Header({\n  photosCount,\n  followerCount,\n  setfollowerCount,\n  user\n}) {\n  const { user: loggedInUser, toggleFollow } = useUser();\n  const [isFollowingProfile, setIsFollowingProfile] = useState(null);\n  const [ispiModal, setIspiModal] = useState(false)\n  const [isfollowerModal, setIsfollowerModal] = useState(false)\n  const [isfollowingModal, setIsfollowingModal] = useState(false)\n  const { _id: profileUserId, fullName, followers, following, username: profileUsername, displayImg } = user\n  const activeBtnFollow = loggedInUser?.username && loggedInUser?.username !== profileUsername;\n\n  const handleToggleFollow = async () => {\n    setIsFollowingProfile((isFollowingProfile) => !isFollowingProfile);\n    setfollowerCount(isFollowingProfile ? followerCount - 1 : followerCount + 1);\n    toggleFollow(isFollowingProfile, profileUserId, loggedInUser._id);\n  };\n\n  useEffect(() => {\n    const isLoggedInUserFollowingProfile = () => {\n      const isFollowing = followers.filter(item => item._id == loggedInUser._id)\n      setIsFollowingProfile(!!isFollowing.length);\n    };\n\n    if (loggedInUser?.username && profileUserId) {\n      isLoggedInUserFollowingProfile();\n    }\n  }, [loggedInUser?.username, profileUserId]);\n\n  const handleProfileImg = () => {\n    if (loggedInUser?.username === user?.username)\n      setIspiModal(true)\n\n    else return\n  }\n\n  return (\n    <>\n      <div className=\"profile__header\">\n        <div className=\"profile__header-imgbox\">\n          {profileUsername ? (\n            <img\n              onClick={handleProfileImg}\n              className=\"profile__header-img\"\n              alt={`${fullName} profile picture`}\n              src={displayImg && displayImg?.profileImg.length ? displayImg.profileImg : DEFAULT_IMAGE_PATH}\n            // onError={(e) => {\n            //   e.target.src = DEFAULT_IMAGE_PATH;\n            // }}\n            />\n          ) : (\n            <Skeleton circle height={150} width={150} count={1} />\n          )}\n        </div>\n\n        <PIModal displayImgs={displayImg} open={ispiModal} onClose={() => setIspiModal(false)} />\n\n        <div className=\"profile__header-info\">\n          <div className=\"profile__header-info-head\">\n            <p className=\"u-bold\">@{profileUsername}</p>\n            {activeBtnFollow && isFollowingProfile === null ? (\n              <Skeleton count={1} width={60} height={32} />\n            ) : (\n              activeBtnFollow && (\n                <button\n                  className={`btn-follow ${isFollowingProfile ? 'btn-follow-f' : 'btn-follow-u'}`} type=\"button\"\n                  onClick={handleToggleFollow}\n                  onKeyDown={(event) => {\n                    if (event.key === 'Enter') {\n                      handleToggleFollow();\n                    }\n                  }}\n                >\n                  {isFollowingProfile ? 'Unfollow' : 'Follow'}\n                </button>\n              )\n            )}\n          </div>\n          <div className=\"profile__header-info-follow\">\n            {!followers || !following ? (\n              <Skeleton count={1} width={500} height={24} />\n            ) : (\n              <>\n                <p className=\"profile__header-info-follow-count\">\n                  <span className=\"u-bold\">{photosCount}</span> photos\n                </p>\n                <p className=\"profile__header-info-follow-count\" onClick={() => setIsfollowerModal(true)}>\n                  <span className=\"u-bold\">{followerCount}</span>\n                  {` `}\n                  {followerCount === 1 ? `follower` : `followers`}\n                </p>\n                <FollowerModal open={isfollowerModal} loggedInUser={loggedInUser} onClose={() => setIsfollowerModal(false)} />\n                <p className=\"profile__header-info-follow-count\" onClick={() => setIsfollowingModal(true)}>\n                  <span className=\"u-bold\">{following?.length}</span> following\n                </p>\n              </>\n            )}\n          </div>\n          <div className=\"container mt-4\">\n            <p className=\"font-medium\">{!fullName ? <Skeleton count={1} height={24} /> : fullName}</p>\n          </div>\n        </div>\n      </div>\n\n    </>\n  );\n}\n\n","import { useState, useRef, useCallback, useEffect } from 'react';\nimport Header from './header';\nimport Skeleton from 'react-loading-skeleton';\nimport Post from '../post';\nimport { NEWPOST } from '../../constants/routes';\nimport ReactLoader from '../loader';\nimport { useUserPost } from '../../context/userPostProvider';\nimport { useUser } from '../../context/userProvider';\n\nexport default function Profile({ user }) {\n  const [followerCount, setfollowerCount] = useState()\n  const { profilePost, loading, setPageNumber, hasMore } = useUserPost()\n  const { user: loggedInUser } = useUser()\n\n  const observer = useRef()\n  const lastPostRef = useCallback(node => {\n    if (loading) return\n    if (observer.current) observer.current.disconnect()\n    observer.current = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting && hasMore) {\n        setPageNumber(prePage => prePage + 1)\n      }\n    })\n    if (node) observer.current.observe(node)\n  }, [loading, hasMore])\n\n  useEffect(() => {\n    setfollowerCount(user?.followers.length)\n  }, [user])\n\n\n\n  return (\n    <>\n      {user && <Header\n        photosCount={profilePost ? profilePost.length : 0}\n        user={user}\n        setfollowerCount={setfollowerCount}\n        followerCount={followerCount}\n      />}\n      {!profilePost.length && loading ? (\n        <ReactLoader />\n      ) : (\n        <>\n          {profilePost.length ?\n            (profilePost.map((content, index) => {\n              if (profilePost.length === index + 1) {\n                return <Post postref={lastPostRef} key={content?._id} content={content} userProfileImg={user?.displayImg.profileImg} />\n              }\n              else {\n                return <Post key={content?._id} content={content} userProfileImg={user?.displayImg.profileImg} />\n              }\n            })\n            ) : (\n              loggedInUser?.username == user?.username ?\n                (<div className=\"nopost\">\n                  <div className=\"nopost-no heading-main\">No Post</div>\n                  <div className=\"nopost-to\"><a href={NEWPOST}>Click Here</a> To Post</div>\n                </div>) :\n                (<div className=\"nopost\">\n                  <div className=\"nopost-no heading-main\">No Post</div>\n                  {/* <div className=\"nopost-to\"><a href={NEWPOST}>Click Here</a> To Post</div> */}\n                </div>)\n\n            )}\n          <div>\n            {loading && (\n              <ReactLoader />\n            )}</div>\n        </>)}\n    </>\n  );\n}\n;\n","import { useParams, useHistory } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport UserProfile from '../components/profile';\nimport ReactLoader from '../components/loader';\nimport { useUser } from '../context/userProvider';\nimport { useUserPost } from '../context/userPostProvider';\n\nexport default function Profile() {\n  const { username } = useParams();\n  const [user, setUser] = useState()\n\n  useEffect(() => {\n    document.title = `${username} | Touch`;\n  }, [username]);\n\n  const { getUser, user: loggedInUser, loading } = useUser()\n  const { getProfilePost, loading: profLoad, pageNumber, setPageNumber } = useUserPost()\n\n  useEffect(() => {\n    async function getuser() {\n      if (loggedInUser?.username !== username) {\n        try {\n          const user = await getUser(username)\n          setUser(user)\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    }\n    getuser()\n  }, [username])\n\n  useEffect(async () => {\n    try {\n      console.log(\"getting posts\");\n      await getProfilePost(username, pageNumber)\n    } catch (error) {\n      console.log(error);\n    }\n  }, [username, pageNumber])\n  // console.log(loading, profLoad);\n\n  return (\n    <>\n      {loading && profLoad ? (\n        <ReactLoader />\n      ) : (\n        <div className=\"profile\">\n          {loggedInUser?.username == username ?\n            <UserProfile user={loggedInUser} setPageNumber={setPageNumber} /> :\n            <UserProfile user={user} setPageNumber={setPageNumber} />}\n          {/* {user && <UserProfile user={user} setUser={setUser} setPageNumber={setPageNumber} />} */}\n        </div>\n      )\n      }\n    </>\n  )\n}\n"],"sourceRoot":""}